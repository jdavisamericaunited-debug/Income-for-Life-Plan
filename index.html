<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Income-for-Life Plan – AmericaPlanning</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #e5e7eb;
    }
  </style>
</head>
<body>
<!-- Optional rotate tip (ignored on desktop) -->
<div id="ap-rotate-tip" style="display:none;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;">
  Turn phone sideways for easy viewing.
</div>

<div id="ap-ifl-app">
  <style>
    #ap-ifl-app,
    #ap-ifl-app * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }

    #ap-ifl-app {
      max-width: 1200px;
      margin: 0 auto;
      padding: 24px 20px 32px;
      background: #f3f4f6;
      color: #111827;
    }

    #ap-ifl-app h1 {
      font-size: 26px;
      margin: 0 0 4px;
    }

    #ap-ifl-app .ap-page-caption {
      font-size: 13px;
      color: #6b7280;
      margin-bottom: 16px;
    }

    /* Tabs */
    .ap-ifl-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 16px;
    }

    .ap-ifl-tab-btn {
      border: 1px solid #d1d5db;
      background: #e5e7eb;
      color: #111827;
      border-radius: 999px;
      padding: 6px 14px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
    }

    .ap-ifl-tab-btn.ap-ifl-tab-active {
      background: #0b5aa2;
      border-color: #0b5aa2;
      color: #ffffff;
    }

    .ap-ifl-panel {
      background: #f9fafb;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      padding: 18px 18px 22px;
    }

    /* Primary button */
    .ap-primary-btn {
      display: inline-block;
      background: #0b5aa2;
      color: #ffffff;
      border: none;
      border-radius: 999px;
      padding: 8px 18px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
    }
    .ap-primary-btn:hover {
      opacity: 0.95;
    }

    .ap-save-row {
      text-align: right;
      margin-top: 4px;
    }

    /* ---------- Goals & Data Form Styles ---------- */
    #ap-goals-data h2 {
      font-size: 20px;
      margin: 0 0 4px;
    }

    #ap-goals-data .ap-subtitle {
      font-size: 13px;
      color: #6b7280;
      margin-bottom: 16px;
    }

    #ap-goals-data form {
      width: 100%;
    }

    #ap-goals-data .ap-section {
      background: #ffffff;
      border-radius: 10px;
      border: 1px solid #e5e7eb;
      padding: 16px 18px 14px;
      margin-bottom: 18px;
    }

    #ap-goals-data .ap-section-title {
      font-size: 15px;
      font-weight: 700;
      color: #0b5aa2;
      border-bottom: 1px solid #e5e7eb;
      padding-bottom: 6px;
      margin-bottom: 12px;
    }

    #ap-goals-data .ap-grid-2 {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px 16px;
    }

    #ap-goals-data .ap-grid-3 {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px 16px;
    }

    #ap-goals-data .ap-grid-4 {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 10px 16px;
    }

    #ap-goals-data .ap-field {
      display: flex;
      flex-direction: column;
      gap: 2px;
      font-size: 13px;
    }

    #ap-goals-data label {
      font-weight: 600;
      color: #374151;
    }

    #ap-goals-data .ap-pill-note {
      font-size: 11px;
      color: #6b7280;
      margin-top: 2px;
    }

    #ap-goals-data input[type="text"],
    #ap-goals-data input[type="number"],
    #ap-goals-data input[type="email"],
    #ap-goals-data input[type="date"],
    #ap-goals-data select,
    #ap-goals-data textarea {
      width: 100%;
      border-radius: 6px;
      border: 1px solid #d1d5db;
      padding: 6px 8px;
      font-size: 13px;
      line-height: 1.4;
      background: #ffffff;
    }

    #ap-goals-data textarea {
      min-height: 60px;
      resize: vertical;
    }

    #ap-goals-data .ap-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
      margin-top: 6px;
    }

    #ap-goals-data .ap-table th,
    #ap-goals-data .ap-table td {
      border: 1px solid #e5e7eb;
      padding: 4px 6px;
      vertical-align: top;
    }

    #ap-goals-data .ap-table th {
      background: #f3f4f6;
      font-weight: 600;
      text-align: left;
    }

    #ap-goals-data .ap-table input,
    #ap-goals-data .ap-table select,
    #ap-goals-data .ap-table textarea {
      border-radius: 4px;
      border: 1px solid #d1d5db;
      width: 100%;
      padding: 4px 5px;
      font-size: 12px;
    }

    #ap-goals-data .ap-total-row {
      background: #f9fafb;
      font-weight: 600;
    }

    #ap-goals-data .ap-goal-row {
      display: grid;
      grid-template-columns: minmax(0, 2.8fr) minmax(0, 0.7fr) minmax(0, 1.5fr);
      gap: 8px;
      margin-bottom: 8px;
    }

    #ap-goals-data .ap-goal-row span {
      font-size: 13px;
      align-self: center;
    }

    #ap-goals-data .ap-goal-row select {
      max-width: 80px;
    }

    /* ---------- Asset Summary Styles ---------- */
    #ap-asset-summary {
      background: #ffffff;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      padding: 18px 18px 20px;
      color: #111827;
    }

    #ap-asset-summary-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 16px;
      border-bottom: 1px solid #e5e7eb;
      padding-bottom: 8px;
    }

    #ap-asset-summary-header .ap-title {
      font-size: 20px;
      font-weight: 700;
      color: #0b5aa2;
    }

    #ap-asset-summary-header .ap-subtitle {
      font-size: 13px;
      color: #4b5563;
      margin-top: 2px;
    }

    #ap-asset-summary-header .ap-date {
      font-size: 12px;
      color: #6b7280;
      text-align: right;
    }

    #ap-asset-summary-layout {
      display: grid;
      grid-template-columns: 1.1fr 1.1fr;
      gap: 18px 40px;
      align-items: flex-start;
    }

    #ap-asset-summary .ap-block-title {
      font-size: 14px;
      font-weight: 700;
      color: #0b5aa2;
      margin-bottom: 4px;
    }

    #ap-asset-summary .ap-name-address {
      font-size: 13px;
      color: #111827;
      margin-bottom: 14px;
    }

    #ap-asset-summary .ap-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
      margin-top: 4px;
    }

    #ap-asset-summary .ap-table th,
    #ap-asset-summary .ap-table td {
      border: 1px solid #e5e7eb;
      padding: 4px 6px;
      vertical-align: top;
      text-align: left;
    }

    #ap-asset-summary .ap-table th {
      background: #f3f4f6;
      font-weight: 600;
    }

    #ap-asset-summary .ap-table td.ap-num {
      text-align: right;
      white-space: nowrap;
    }

    #ap-asset-summary .ap-row-total {
      background: #f9fafb;
      font-weight: 600;
    }

    #ap-asset-summary-bottom {
      margin-top: 18px;
      border-top: 1px solid #e5e7eb;
      padding-top: 10px;
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px;
    }

    #ap-asset-summary-bottom .ap-summary-item {
      padding: 8px 10px;
      border-radius: 8px;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
    }

    #ap-asset-summary-bottom .ap-summary-label {
      font-size: 13px;
      color: #4b5563;
      margin-bottom: 2px;
    }

    #ap-asset-summary-bottom .ap-summary-value {
      font-size: 16px;
      font-weight: 700;
      color: #111827;
    }

    #ap-asset-summary-bottom .ap-summary-item.net-worth {
      background: #eff6ff;
      border-color: #bfdbfe;
    }

    #ap-asset-summary-bottom .ap-summary-item.net-worth .ap-summary-value {
      color: #0b5aa2;
    }

    @media (max-width: 1024px) {
      #ap-asset-summary-layout {
        grid-template-columns: 1fr;
      }
      #ap-asset-summary-bottom {
        grid-template-columns: 1fr;
      }
    }
  </style>

  <h1>Income-for-Life Plan – Data, Asset Summary & Plan Inputs</h1>
  <div class="ap-page-caption">
    Internal planning tool – designed for desktop use.
  </div>

  <!-- TABS -->
  <div class="ap-ifl-tabs">
    <button class="ap-ifl-tab-btn ap-ifl-tab-active" data-panel="goals">Goals &amp; Data</button>
    <button class="ap-ifl-tab-btn" data-panel="assets">Asset Summary</button>
    <button class="ap-ifl-tab-btn" data-panel="inputs">Plan Inputs</button>
  </div>

  <!-- PANEL: GOALS & DATA -->
  <div id="ap-panel-goals" class="ap-ifl-panel">
    <div id="ap-goals-data">
      <h2>Goals &amp; Data Form</h2>
      <div class="ap-subtitle">
        Income-for-Life Plan – AmericaPlanning.com
      </div>

      <form id="ap-goals-data-form">
        <!-- 1. Business & Primary Contact -->
        <div class="ap-section">
          <div class="ap-section-title">Business &amp; Primary Contact</div>
          <div class="ap-grid-3">
            <div class="ap-field">
              <label for="businessName">Business Name (if self-employed)</label>
              <input id="businessName" name="businessName" type="text">
            </div>
            <div class="ap-field">
              <label for="yearsInBusiness">Years in Business</label>
              <input id="yearsInBusiness" name="yearsInBusiness" type="number" min="0" step="1">
            </div>
            <div class="ap-field">
              <label for="dataDate">Form Date</label>
              <input id="dataDate" name="dataDate" type="date">
            </div>
          </div>

          <div class="ap-grid-3" style="margin-top:10px;">
            <div class="ap-field">
              <label for="businessAddress">Business Address</label>
              <input id="businessAddress" name="businessAddress" type="text">
            </div>
            <div class="ap-field">
              <label for="businessCity">City</label>
              <input id="businessCity" name="businessCity" type="text">
            </div>
            <div class="ap-grid-2">
              <div class="ap-field">
                <label for="businessState">State</label>
                <input id="businessState" name="businessState" type="text">
              </div>
              <div class="ap-field">
                <label for="businessZip">Zip Code</label>
                <input id="businessZip" name="businessZip" type="text">
              </div>
            </div>
          </div>
        </div>

        <!-- 2. Personal Information -->
        <div class="ap-section">
          <div class="ap-section-title">Personal Information</div>

          <div class="ap-grid-3">
            <div class="ap-field">
              <label for="clientName">Name</label>
              <input id="clientName" name="clientName" type="text">
            </div>
            <div class="ap-field">
              <label for="clientBirthDate">Birth Date</label>
              <input id="clientBirthDate" name="clientBirthDate" type="date">
            </div>
            <div class="ap-field">
              <label for="clientAge">Age</label>
              <input id="clientAge" name="clientAge" type="number" min="0" step="1">
            </div>
          </div>

          <div class="ap-grid-3" style="margin-top:10px;">
            <div class="ap-field">
              <label for="spouseName">Spouse Name</label>
              <input id="spouseName" name="spouseName" type="text">
            </div>
            <div class="ap-field">
              <label for="spouseBirthDate">Spouse Birth Date</label>
              <input id="spouseBirthDate" name="spouseBirthDate" type="date">
            </div>
            <div class="ap-field">
              <label for="spouseAge">Spouse Age</label>
              <input id="spouseAge" name="spouseAge" type="number" min="0" step="1">
            </div>
          </div>

          <div class="ap-grid-3" style="margin-top:10px;">
            <div class="ap-field">
              <label for="homeAddress">Home Address</label>
              <input id="homeAddress" name="homeAddress" type="text">
            </div>
            <div class="ap-field">
              <label for="homeCity">City</label>
              <input id="homeCity" name="homeCity" type="text">
            </div>
            <div class="ap-grid-2">
              <div class="ap-field">
                <label for="homeState">State</label>
                <input id="homeState" name="homeState" type="text">
              </div>
              <div class="ap-field">
                <label for="homeZip">Zip Code</label>
                <input id="homeZip" name="homeZip" type="text">
              </div>
            </div>
          </div>

          <div class="ap-grid-3" style="margin-top:10px%;">
            <div class="ap-field">
              <label for="hisCell">His Cell Number</label>
              <input id="hisCell" name="hisCell" type="text">
            </div>
            <div class="ap-field">
              <label for="herCell">Her Cell Number</label>
              <input id="herCell" name="herCell" type="text">
            </div>
            <div class="ap-field">
              <label for="bestEmail">Best Email Address</label>
              <input id="bestEmail" name="bestEmail" type="email">
            </div>
          </div>
        </div>

        <!-- 3. Children -->
        <div class="ap-section">
          <div class="ap-section-title">Children (Estate Planning Purposes)</div>
          <table class="ap-table">
            <thead>
              <tr>
                <th style="width:40%;">Name</th>
                <th style="width:10%;">Age</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><input name="child1Name" type="text"></td>
                <td><input name="child1Age" type="number" min="0" step="1"></td>
                <td><input name="child1Notes" type="text"></td>
              </tr>
              <tr>
                <td><input name="child2Name" type="text"></td>
                <td><input name="child2Age" type="number" min="0" step="1"></td>
                <td><input name="child2Notes" type="text"></td>
              </tr>
              <tr>
                <td><input name="child3Name" type="text"></td>
                <td><input name="child3Age" type="number" min="0" step="1"></td>
                <td><input name="child3Notes" type="text"></td>
              </tr>
              <tr>
                <td><input name="child4Name" type="text"></td>
                <td><input name="child4Age" type="number" min="0" step="1"></td>
                <td><input name="child4Notes" type="text"></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- 4. Current Advisors -->
        <div class="ap-section">
          <div class="ap-section-title">Current Advisors (Optional)</div>
          <div class="ap-grid-2">
            <div class="ap-field">
              <label for="accountantName">Accountant – Advisor Name</label>
              <input id="accountantName" name="accountantName" type="text">
            </div>
            <div class="ap-field">
              <label for="accountantFirm">Firm Name &amp; Telephone</label>
              <input id="accountantFirm" name="accountantFirm" type="text">
            </div>
          </div>
          <div class="ap-grid-2" style="margin-top:8px;">
            <div class="ap-field">
              <label for="attorneyName">Attorney – Advisor Name</label>
              <input id="attorneyName" name="attorneyName" type="text">
            </div>
            <div class="ap-field">
              <label for="attorneyFirm">Firm Name &amp; Telephone</label>
              <input id="attorneyFirm" name="attorneyFirm" type="text">
            </div>
          </div>
          <div class="ap-grid-2" style="margin-top:8px;">
            <div class="ap-field">
              <label for="faName">Financial Advisor – Advisor Name</label>
              <input id="faName" name="faName" type="text">
            </div>
            <div class="ap-field">
              <label for="faFirm">Firm Name &amp; Telephone</label>
              <input id="faFirm" name="faFirm" type="text">
            </div>
          </div>
        </div>

        <!-- 5. Retirement Timing -->
        <div class="ap-section">
          <div class="ap-section-title">Retirement Timing</div>
          <div class="ap-grid-4">
            <div class="ap-field">
              <label for="plannedRetAgeHis">Planned Retirement Age (His)</label>
              <input id="plannedRetAgeHis" name="plannedRetAgeHis" type="number" min="0" step="1">
            </div>
            <div class="ap-field">
              <label for="plannedRetAgeHer">Planned Retirement Age (Her)</label>
              <input id="plannedRetAgeHer" name="plannedRetAgeHer" type="number" min="0" step="1">
            </div>
            <div class="ap-field">
              <label for="alreadyRetiredHis">If Already Retired: His Year</label>
              <input id="alreadyRetiredHis" name="alreadyRetiredHis" type="number" min="1900" step="1">
            </div>
            <div class="ap-field">
              <label for="alreadyRetiredHer">If Already Retired: Her Year</label>
              <input id="alreadyRetiredHer" name="alreadyRetiredHer" type="number" min="1900" step="1">
            </div>
          </div>
        </div>

        <!-- 6. Estate Planning & Insurance -->
        <div class="ap-section">
          <div class="ap-section-title">Estate Planning &amp; Insurance</div>

          <div class="ap-grid-3">
            <div class="ap-field">
              <label for="haveWill">Do You Have a Will?</label>
              <select id="haveWill" name="haveWill">
                <option value=""></option>
                <option>Yes</option>
                <option>No</option>
              </select>
            </div>
            <div class="ap-field">
              <label for="willYear">Year Completed</label>
              <input id="willYear" name="willYear" type="number" min="1900" step="1">
            </div>
            <div class="ap-field">
              <label for="fPoa">Financial Power of Attorney</label>
              <select id="fPoa" name="fPoa">
                <option value=""></option>
                <option>Yes</option>
                <option>No</option>
              </select>
            </div>
          </div>

          <div class="ap-grid-3" style="margin-top:8px;">
            <div class="ap-field">
              <label for="mPoa">Medical Power of Attorney</label>
              <select id="mPoa" name="mPoa">
                <option value=""></option>
                <option>Yes</option>
                <option>No</option>
              </select>
            </div>
            <div class="ap-field">
              <label for="mpoaFiled">Is MPOA Electronically Filed?</label>
              <select id="mpoaFiled" name="mpoaFiled">
                <option value=""></option>
                <option>Yes</option>
                <option>No</option>
              </select>
            </div>
            <div class="ap-field">
              <label for="haveTrust">Do You Have a Trust?</label>
              <select id="haveTrust" name="haveTrust">
                <option value=""></option>
                <option>Yes</option>
                <option>No</option>
              </select>
            </div>
          </div>

          <div class="ap-grid-3" style="margin-top:8px;">
            <div class="ap-field">
              <label for="trustYear">Trust – Year Completed</label>
              <input id="trustYear" name="trustYear" type="number" min="1900" step="1">
            </div>
            <div class="ap-field">
              <label for="termLifeHis">Term Life Insurance (His)</label>
              <input id="termLifeHis" name="termLifeHis" type="text" placeholder="Dollar amount">
            </div>
            <div class="ap-field">
              <label for="termLifeHer">Term Life Insurance (Her)</label>
              <input id="termLifeHer" name="termLifeHer" type="text" placeholder="Dollar amount">
            </div>
          </div>

          <div class="ap-grid-3" style="margin-top:8px;">
            <div class="ap-field">
              <label for="termOrigYears">Original Term in Years</label>
              <input id="termOrigYears" name="termOrigYears" type="number" min="0" step="1">
            </div>
            <div class="ap-field">
              <label for="totalLifeInsurance">Total Life Insurance Him &amp; Her</label>
              <input id="totalLifeInsurance" name="totalLifeInsurance" type="text">
            </div>
            <div class="ap-field">
              <label for="estateNotes">Notes</label>
              <input id="estateNotes" name="estateNotes" type="text">
            </div>
          </div>
        </div>

        <!-- 7. Residences & Real Estate -->
        <div class="ap-section">
          <div class="ap-section-title">Residences and Real Estate Investments</div>
          <table class="ap-table">
            <thead>
              <tr>
                <th>Property</th>
                <th style="width:12%;">Owned / Rented</th>
                <th>Approx. Value (if Owned)</th>
                <th>Mortgage Amount</th>
                <th>Monthly Payment</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1. Primary Residence</td>
                <td><input name="primaryOwnedRented" type="text" placeholder="Owned / Rented"></td>
                <td><input name="primaryValue" type="text"></td>
                <td><input name="primaryMortgage" type="text"></td>
                <td><input name="primaryMonthly" type="text"></td>
              </tr>
              <tr>
                <td>2. Secondary Residence</td>
                <td><input name="secondaryOwnedRented" type="text" placeholder="Owned / Rented"></td>
                <td><input name="secondaryValue" type="text"></td>
                <td><input name="secondaryMortgage" type="text"></td>
                <td><input name="secondaryMonthly" type="text"></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- 8. Current Portfolio -->
        <div class="ap-section">
          <div class="ap-section-title">Current Portfolio (Qualified = IRA / 401k / 403b / Brokerage, etc.)</div>
          <table class="ap-table">
            <thead>
              <tr>
                <th>Investment Account Name / Description</th>
                <th style="width:12%;">His / Her / Both</th>
                <th style="width:18%;">Qualified / Non-Qualified</th>
                <th style="width:18%;">Balance ($)</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><input name="inv1Name" type="text"></td>
                <td><input name="inv1Owner" type="text"></td>
                <td><input name="inv1Type" type="text"></td>
                <td><input name="inv1Balance" type="text"></td>
                <td><input name="inv1Notes" type="text"></td>
              </tr>
              <tr>
                <td><input name="inv2Name" type="text"></td>
                <td><input name="inv2Owner" type="text"></td>
                <td><input name="inv2Type" type="text"></td>
                <td><input name="inv2Balance" type="text"></td>
                <td><input name="inv2Notes" type="text"></td>
              </tr>
              <tr>
                <td><input name="inv3Name" type="text"></td>
                <td><input name="inv3Owner" type="text"></td>
                <td><input name="inv3Type" type="text"></td>
                <td><input name="inv3Balance" type="text"></td>
                <td><input name="inv3Notes" type="text"></td>
              </tr>
              <tr class="ap-total-row">
                <td colspan="3">TOTALS</td>
                <td><input name="invTotalBalance" type="text"></td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- 9. Savings & Credit Union Accounts -->
        <div class="ap-section">
          <div class="ap-section-title">Savings and Credit Union Accounts</div>
          <table class="ap-table">
            <thead>
              <tr>
                <th>Account Description (Savings / Checking / Credit Union)</th>
                <th style="width:16%;">His / Her / Both</th>
                <th style="width:18%;">Current Balance</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><input name="save1Desc" type="text"></td>
                <td><input name="save1Owner" type="text"></td>
                <td><input name="save1Balance" type="text"></td>
              </tr>
              <tr>
                <td><input name="save2Desc" type="text"></td>
                <td><input name="save2Owner" type="text"></td>
                <td><input name="save2Balance" type="text"></td>
              </tr>
              <tr>
                <td><input name="save3Desc" type="text"></td>
                <td><input name="save3Owner" type="text"></td>
                <td><input name="save3Balance" type="text"></td>
              </tr>
              <tr>
                <td><input name="save4Desc" type="text"></td>
                <td><input name="save4Owner" type="text"></td>
                <td><input name="save4Balance" type="text"></td>
              </tr>
              <tr class="ap-total-row">
                <td>TOTAL</td>
                <td></td>
                <td><input name="saveTotalBalance" type="text"></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- 10. Annuities -->
        <div class="ap-section">
          <div class="ap-section-title">Annuities</div>
          <table class="ap-table">
            <thead>
              <tr>
                <th>Annuity (Insurance Company Name)</th>
                <th style="width:16%;">His / Her / Both</th>
                <th style="width:18%;">Current Balance</th>
                <th style="width:18%;">Year Opened</th>
                <th>Still in Surrender Period?</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><input name="ann1Name" type="text"></td>
                <td><input name="ann1Owner" type="text"></td>
                <td><input name="ann1Balance" type="text"></td>
                <td><input name="ann1YearOpened" type="text"></td>
                <td><input name="ann1Surrender" type="text"></td>
              </tr>
              <tr>
                <td><input name="ann2Name" type="text"></td>
                <td><input name="ann2Owner" type="text"></td>
                <td><input name="ann2Balance" type="text"></td>
                <td><input name="ann2YearOpened" type="text"></td>
                <td><input name="ann2Surrender" type="text"></td>
              </tr>
              <tr class="ap-total-row">
                <td>TOTAL</td>
                <td></td>
                <td><input name="annTotalBalance" type="text"></td>
                <td colspan="2"></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- 11. Income Sources -->
        <div class="ap-section">
          <div class="ap-section-title">Income Sources</div>
          <table class="ap-table">
            <thead>
              <tr>
                <th style="width:14%;">Who’s Income (His / Her / Both)</th>
                <th style="width:18%;">What Type (Pension / SS / Wages / Other)</th>
                <th>Describe Type (if Other)</th>
                <th style="width:18%;">Dollar Amount of Annual Income ($)</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><input name="inc1Who" type="text"></td>
                <td><input name="inc1Type" type="text"></td>
                <td><input name="inc1Desc" type="text"></td>
                <td><input name="inc1Amount" type="text"></td>
                <td><input name="inc1Notes" type="text"></td>
              </tr>
              <tr>
                <td><input name="inc2Who" type="text"></td>
                <td><input name="inc2Type" type="text"></td>
                <td><input name="inc2Desc" type="text"></td>
                <td><input name="inc2Amount" type="text"></td>
                <td><input name="inc2Notes" type="text"></td>
              </tr>
              <tr>
                <td><input name="inc3Who" type="text"></td>
                <td><input name="inc3Type" type="text"></td>
                <td><input name="inc3Desc" type="text"></td>
                <td><input name="inc3Amount" type="text"></td>
                <td><input name="inc3Notes" type="text"></td>
              </tr>
              <tr class="ap-total-row">
                <td colspan="3">Approximate Total Annual Income ($)</td>
                <td><input name="incTotalAmount" type="text"></td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- 12. Living Expenses & Desired Income -->
        <div class="ap-section">
          <div class="ap-section-title">Living Expenses &amp; Desired Retirement Income</div>
          <div class="ap-grid-2">
            <div class="ap-field">
              <label for="annualExpenses">Approximate Annual Living Expenses ($)</label>
              <input id="annualExpenses" name="annualExpenses" type="text">
              <div class="ap-pill-note">Current lifestyle spending before retirement.</div>
            </div>
            <div class="ap-field">
              <label for="desiredRetIncome">Desired Annual Income After Retirement ($)</label>
              <input id="desiredRetIncome" name="desiredRetIncome" type="text">
              <div class="ap-pill-note">Target income you’d like your plan to produce.</div>
            </div>
          </div>
          <div class="ap-field" style="margin-top:8px;">
            <label for="incomeNotes">Notes</label>
            <textarea id="incomeNotes" name="incomeNotes"></textarea>
          </div>
        </div>

        <!-- 13. Goals -->
        <div class="ap-section">
          <div class="ap-section-title">Goals</div>
          <div class="ap-pill-note" style="margin-bottom:8px;">
            Rate each in the dropdown list: 1 = Not Concerned … 5 = Most Concerned
          </div>

          <div class="ap-goal-row">
            <span>Have enough retirement income that lasts my lifetime</span>
            <select name="goal1Rating">
              <option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
            </select>
            <input name="goal1Notes" type="text" placeholder="Notes">
          </div>

          <div class="ap-goal-row">
            <span>Protect assets from losses</span>
            <select name="goal2Rating">
              <option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
            </select>
            <input name="goal2Notes" type="text" placeholder="Notes">
          </div>

          <div class="ap-goal-row">
            <span>Save more for retirement than current IRA limits allow</span>
            <select name="goal3Rating">
              <option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
            </select>
            <input name="goal3Notes" type="text" placeholder="Notes">
          </div>

          <div class="ap-goal-row">
            <span>Protect myself / family from catastrophic long-term care costs</span>
            <select name="goal4Rating">
              <option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
            </select>
            <input name="goal4Notes" type="text" placeholder="Notes">
          </div>

          <div class="ap-goal-row">
            <span>Grow a cash account accessible at any age (no 59½ restrictions)</span>
            <select name="goal5Rating">
              <option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
            </select>
            <input name="goal5Notes" type="text" placeholder="Notes">
          </div>

          <div class="ap-goal-row">
            <span>Pass retirement money to next generation tax-efficiently</span>
            <select name="goal6Rating">
              <option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
            </select>
            <input name="goal6Notes" type="text" placeholder="Notes">
          </div>

          <div class="ap-goal-row">
            <span>Implement a retirement program that reduces tax liability</span>
            <select name="goal7Rating">
              <option value=""></option><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
            </select>
            <input name="goal7Notes" type="text" placeholder="Notes">
          </div>
        </div>

        <!-- 14. Document Checklist & Additional Notes -->
        <div class="ap-section">
          <div class="ap-section-title">Document Checklist &amp; Additional Notes</div>
          <div class="ap-field">
            <label for="documentChecklist">
              Document Checklist (list items and year established / completed)
            </label>
            <textarea id="documentChecklist" name="documentChecklist"></textarea>
          </div>
          <div class="ap-field" style="margin-top:8px;">
            <label for="additionalNotes">Additional Notes</label>
            <textarea id="additionalNotes" name="additionalNotes"></textarea>
          </div>
        </div>

        <!-- SAVE BUTTON -->
        <div class="ap-save-row" style="text-align:right;margin-top:4px;">
          <button type="button" id="ap-save-data-btn" class="ap-primary-btn">
            Save Data &amp; Jump to Asset Summary
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- PANEL: ASSET SUMMARY -->
  <div id="ap-panel-assets" class="ap-ifl-panel" style="display:none;">
    <div id="ap-asset-summary">
      <div id="ap-asset-summary-header">
        <div>
          <div class="ap-title">Asset Summary</div>
          <div class="ap-subtitle">Income-for-Life Plan – AmericaPlanning.com</div>
        </div>
        <div class="ap-date" id="ap-asset-summary-date"></div>
      </div>

      <div class="ap-name-address" id="ap-asset-summary-name-address"></div>

      <div id="ap-asset-summary-layout">
        <!-- LEFT: Cash + Investments -->
        <div>
          <!-- Cash Accounts -->
          <div>
            <div class="ap-block-title">Cash Accounts</div>
            <table class="ap-table">
              <thead>
                <tr>
                  <th style="width:25%;">Owner</th>
                  <th>Account Type / Description</th>
                  <th style="width:25%;">Balance</th>
                </tr>
              </thead>
              <tbody id="ap-cash-rows"></tbody>
              <tfoot>
                <tr class="ap-row-total">
                  <td colspan="2">Total Cash</td>
                  <td class="ap-num" id="ap-total-cash">$0</td>
                </tr>
              </tfoot>
            </table>
          </div>

          <!-- Investment Accounts -->
          <div style="margin-top:18px;">
            <div class="ap-block-title">Investment Accounts</div>
            <table class="ap-table">
              <thead>
                <tr>
                  <th style="width:18%;">Owner</th>
                  <th>Account Name / Description</th>
                  <th style="width:18%;">Type</th>
                  <th style="width:25%;">Balance</th>
                </tr>
              </thead>
              <tbody id="ap-investment-rows"></tbody>
              <tfoot>
                <tr class="ap-row-total">
                  <td colspan="3">Total Investments</td>
                  <td class="ap-num" id="ap-total-investments">$0</td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>

        <!-- RIGHT: Real Estate + Annuities -->
        <div>
          <!-- Property & Mortgages -->
          <div>
            <div class="ap-block-title">Property &amp; Mortgages</div>
            <table class="ap-table">
              <thead>
                <tr>
                  <th>Property</th>
                  <th style="width:25%;">Mortgage (Liability)</th>
                  <th style="width:25%;">Market Value (Asset)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Primary Residence</td>
                  <td class="ap-num" id="ap-primary-mortgage">$0</td>
                  <td class="ap-num" id="ap-primary-value">$0</td>
                </tr>
                <tr>
                  <td>Secondary Residence</td>
                  <td class="ap-num" id="ap-secondary-mortgage">$0</td>
                  <td class="ap-num" id="ap-secondary-value">$0</td>
                </tr>
              </tbody>
              <tfoot>
                <tr class="ap-row-total">
                  <td>Total Mortgage</td>
                  <td class="ap-num" id="ap-total-mortgage">$0</td>
                  <td class="ap-num" id="ap-total-real-estate">$0</td>
                </tr>
              </tfoot>
            </table>
          </div>

          <!-- Annuities -->
          <div style="margin-top:18px;">
            <div class="ap-block-title">Annuities</div>
            <table class="ap-table">
              <thead>
                <tr>
                  <th>Owner</th>
                  <th>Insurance Company / Contract</th>
                  <th style="width:18%;">Type</th>
                  <th style="width:25%;">Balance</th>
                </tr>
              </thead>
              <tbody id="ap-annuity-rows"></tbody>
              <tfoot>
                <tr class="ap-row-total">
                  <td colspan="3">Total Annuities</td>
                  <td class="ap-num" id="ap-total-annuities">$0</td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </div>

      <!-- TOTALS -->
      <div id="ap-asset-summary-bottom">
        <div class="ap-summary-item">
          <div class="ap-summary-label">TOTAL ASSETS</div>
          <div class="ap-summary-value" id="ap-total-assets">$0</div>
        </div>
        <div class="ap-summary-item">
          <div class="ap-summary-label">TOTAL LIABILITIES</div>
          <div class="ap-summary-value" id="ap-total-liabilities">$0</div>
        </div>
        <div class="ap-summary-item net-worth">
          <div class="ap-summary-label">NET WORTH</div>
          <div class="ap-summary-value" id="ap-net-worth">$0</div>
        </div>
      </div>
    </div>
  </div>

  <!-- PANEL: PLAN INPUTS -->
  <div id="ap-panel-inputs" class="ap-ifl-panel" style="display:none;">
    <div id="ap-plan-inputs">
      <h2>Plan Inputs – Control Page</h2>
      <p style="font-size:13px;color:#6b7280;margin:4px 0 12px;">
        Comparing your current vs. additional income plan – this page drives the No-Plan, Silver Plan, and Gold Plan projections.
      </p>

      <!-- TOP: CORE PROJECTION INPUTS + NOTES -->
      <div style="display:grid;grid-template-columns:1.2fr 0.8fr;gap:16px;align-items:flex-start;margin-bottom:18px;">
        <!-- LEFT: CORE INPUTS -->
        <div class="ap-section" style="background:#ffffff;border-radius:10px;border:1px solid #e5e7eb;padding:14px 16px 12px;">
          <div class="ap-section-title" style="font-size:15px;font-weight:700;color:#0b5aa2;border-bottom:1px solid #e5e7eb;padding-bottom:6px;margin-bottom:10px;">
            Core Projection Inputs
          </div>
          <div style="display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px 14px;font-size:13px;">
            <div class="ap-field">
              <label for="inputsTodayDate" style="font-weight:600;color:#374151;">Today's Date</label>
              <input id="inputsTodayDate" name="inputsTodayDate" type="date">
            </div>
            <div class="ap-field">
              <label for="projLength" style="font-weight:600;color:#374151;">Projection Length (years)</label>
              <input id="projLength" name="projLength" type="number" min="1" step="1">
            </div>
            <div></div>

            <div class="ap-field">
              <label for="ageHis" style="font-weight:600;color:#374151;">His Current Age</label>
              <input id="ageHis" name="ageHis" type="number" min="0" step="1">
            </div>
            <div class="ap-field">
              <label for="ageHer" style="font-weight:600;color:#374151;">Her Current Age</label>
              <input id="ageHer" name="ageHer" type="number" min="0" step="1">
            </div>
            <div></div>

            <div class="ap-field">
              <label for="ssHisAnnual" style="font-weight:600;color:#374151;">His Social Security (annual)</label>
              <input id="ssHisAnnual" name="ssHisAnnual" type="text" placeholder="$25,000">
            </div>
            <div class="ap-field">
              <label for="ssHerAnnual" style="font-weight:600;color:#374151;">Her Social Security (annual)</label>
              <input id="ssHerAnnual" name="ssHerAnnual" type="text" placeholder="$12,500">
            </div>
            <div></div>

            <div class="ap-field">
              <label for="pension1Annual" style="font-weight:600;color:#374151;">Pension 1 (annual)</label>
              <input id="pension1Annual" name="pension1Annual" type="text" placeholder="$0">
            </div>
            <div class="ap-field">
              <label for="pension2Annual" style="font-weight:600;color:#374151;">Pension 2 (annual)</label>
              <input id="pension2Annual" name="pension2Annual" type="text" placeholder="$0">
            </div>
            <div class="ap-field">
              <label for="otherIncomeAnnual" style="font-weight:600;color:#374151;">Other Income (annual)</label>
              <input id="otherIncomeAnnual" name="otherIncomeAnnual" type="text" placeholder="$0">
            </div>

            <div class="ap-field">
              <label for="livingExpensesAnnual" style="font-weight:600;color:#374151;">Living Expenses (annual)</label>
              <input id="livingExpensesAnnual" name="livingExpensesAnnual" type="text" placeholder="$30,000">
            </div>
            <div class="ap-field">
              <label for="incomeGrowthPct" style="font-weight:600;color:#374151;">Grow % for incomes</label>
              <input id="incomeGrowthPct" name="incomeGrowthPct" type="number" step="0.01" placeholder="0.00">
            </div>
            <div class="ap-field">
              <label for="expenseInflationPct" style="font-weight:600;color:#374151;">Inflation % for expenses</label>
              <input id="expenseInflationPct" name="expenseInflationPct" type="number" step="0.01" placeholder="0.00">
            </div>

            <div class="ap-field">
              <label for="ssHisStartAge" style="font-weight:600;color:#374151;">His SS Start Age</label>
              <input id="ssHisStartAge" name="ssHisStartAge" type="number" min="0" step="1" placeholder="67">
            </div>
            <div class="ap-field">
              <label for="ssHerStartAge" style="font-weight:600;color:#374151;">Her SS Start Age</label>
              <input id="ssHerStartAge" name="ssHerStartAge" type="number" min="0" step="1" placeholder="67">
            </div>
            <div></div>

            <div class="ap-field">
              <label for="pension1StartAge" style="font-weight:600;color:#374151;">Pension 1 Start Age</label>
              <input id="pension1StartAge" name="pension1StartAge" type="number" min="0" step="1" placeholder="0">
            </div>
            <div class="ap-field">
              <label for="pension2StartAge" style="font-weight:600;color:#374151;">Pension 2 Start Age</label>
              <input id="pension2StartAge" name="pension2StartAge" type="number" min="0" step="1" placeholder="0">
            </div>
            <div></div>

            <div class="ap-field">
              <label for="pension1SurvivorPct" style="font-weight:600;color:#374151;">Pension 1 Survivor %</label>
              <input id="pension1SurvivorPct" name="pension1SurvivorPct" type="number" step="0.01" placeholder="0.00">
            </div>
            <div class="ap-field">
              <label for="pension2SurvivorPct" style="font-weight:600;color:#374151;">Pension 2 Survivor %</label>
              <input id="pension2SurvivorPct" name="pension2SurvivorPct" type="number" step="0.01" placeholder="0.00">
            </div>
            <div></div>

            <div class="ap-field">
              <label for="deathAgeHis" style="font-weight:600;color:#374151;">His Death Age</label>
              <input id="deathAgeHis" name="deathAgeHis" type="number" min="0" step="1" placeholder="85">
            </div>
            <div class="ap-field">
              <label for="deathAgeHer" style="font-weight:600;color:#374151;">Her Death Age</label>
              <input id="deathAgeHer" name="deathAgeHer" type="number" min="0" step="1" placeholder="89">
            </div>
            <div></div>
          </div>
        </div>

        <!-- RIGHT: NOTES -->
        <div class="ap-section" style="background:#ffffff;border-radius:10px;border:1px solid #e5e7eb;padding:14px 16px 12px;">
          <div class="ap-section-title" style="font-size:15px;font-weight:700;color:#0b5aa2;border-bottom:1px solid #e5e7eb;padding-bottom:6px;margin-bottom:8px;">
            Description and Notes
          </div>
          <div class="ap-field" style="font-size:13px;">
            <textarea id="inputsNotesMain" name="inputsNotesMain" style="min-height:210px;"></textarea>
          </div>
        </div>
      </div>

      <!-- CURRENT / NO PLAN BUCKETS -->
      <div class="ap-section" style="background:#ffffff;border-radius:10px;border:1px solid #e5e7eb;padding:14px 16px 12px;margin-bottom:18px;">
        <div class="ap-section-title" style="font-size:15px;font-weight:700;color:#0b5aa2;border-bottom:1px solid #e5e7eb;padding-bottom:6px;margin-bottom:8px;">
          Current / No-Plan Asset Buckets (A/B/C)
        </div>
        <div style="display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px 14px;font-size:13px;margin-bottom:10px;">
          <div class="ap-field">
            <label for="currentAYellow" style="font-weight:600;color:#374151;">A Total Yellow (Liquid)</label>
            <input id="currentAYellow" name="currentAYellow" type="text" placeholder="$316,000.00">
          </div>
          <div class="ap-field">
            <label for="currentCRed" style="font-weight:600;color:#374151;">C Total Red (Invested)</label>
            <input id="currentCRed" name="currentCRed" type="text" placeholder="$450,000.00">
          </div>
          <div class="ap-field">
            <label for="currentBGreen" style="font-weight:600;color:#374151;">B Total Green (Annuities)</label>
            <input id="currentBGreen" name="currentBGreen" type="text" placeholder="$0.00">
          </div>
          <div class="ap-field">
            <label for="currentTotalInvestable" style="font-weight:600;color:#374151;">Total Investable (auto)</label>
            <input id="currentTotalInvestable" name="currentTotalInvestable" type="text" placeholder="$766,000.00" readonly>
          </div>
        </div>

        <div style="display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px 14px;font-size:13px;">
          <div class="ap-field">
            <label for="deathIndexHis" style="font-weight:600;color:#374151;">His Death Year Index (auto)</label>
            <input id="deathIndexHis" name="deathIndexHis" type="number" step="1" readonly>
          </div>
          <div class="ap-field">
            <label for="deathIndexHer" style="font-weight:600;color:#374151;">Her Death Year Index (auto)</label>
            <input id="deathIndexHer" name="deathIndexHer" type="number" step="1" readonly>
          </div>
          <div></div>
          <div></div>
        </div>
      </div>

      <!-- SILVER PLAN -->
      <div class="ap-section" style="background:#ffffff;border-radius:10px;border:1px solid #e5e7eb;padding:14px 16px 12px;margin-bottom:18px;">
        <div class="ap-section-title" style="font-size:15px;font-weight:700;color:#0b5aa2;border-bottom:1px solid #e5e7eb;padding-bottom:6px;margin-bottom:8px;">
          Silver Plan – Additional Income &amp; Reallocation
        </div>

        <div style="display:grid;grid-template-columns:1.2fr 0.8fr;gap:14px;align-items:flex-start;">
          <!-- LEFT: Silver Income -->
          <div>
            <div style="font-size:13px;font-weight:600;color:#374151;margin-bottom:4px;">Silver Plan Add'l Income (4 sources)</div>
            <table class="ap-table" style="width:100%;border-collapse:collapse;font-size:13px;">
              <thead>
                <tr>
                  <th>Description / Rollover Label</th>
                  <th style="width:18%;">Annual Income</th>
                  <th style="width:14%;">Start Age</th>
                  <th style="width:16%;">Owner (His/Her)</th>
                  <th>Notes</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><input name="silver1Desc" type="text" placeholder="Rollover 1"></td>
                  <td><input name="silver1Income" type="text" placeholder="$10,000"></td>
                  <td><input name="silver1StartAge" type="number" min="0" step="1" placeholder="67"></td>
                  <td><input name="silver1Owner" type="text" placeholder="His"></td>
                  <td><input name="silver1Notes" type="text"></td>
                </tr>
                <tr>
                  <td><input name="silver2Desc" type="text" placeholder="Rollover 2"></td>
                  <td><input name="silver2Income" type="text" placeholder="$15,000"></td>
                  <td><input name="silver2StartAge" type="number" min="0" step="1" placeholder="67"></td>
                  <td><input name="silver2Owner" type="text" placeholder="His"></td>
                  <td><input name="silver2Notes" type="text"></td>
                </tr>
                <tr>
                  <td><input name="silver3Desc" type="text" placeholder="Rollover 3"></td>
                  <td><input name="silver3Income" type="text" placeholder="$6,000"></td>
                  <td><input name="silver3StartAge" type="number" min="0" step="1" placeholder="67"></td>
                  <td><input name="silver3Owner" type="text" placeholder="His"></td>
                  <td><input name="silver3Notes" type="text"></td>
                </tr>
                <tr>
                  <td><input name="silver4Desc" type="text" placeholder="Rollover 4"></td>
                  <td><input name="silver4Income" type="text" placeholder="$3,000"></td>
                  <td><input name="silver4StartAge" type="number" min="0" step="1" placeholder="67"></td>
                  <td><input name="silver4Owner" type="text" placeholder="His"></td>
                  <td><input name="silver4Notes" type="text"></td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- RIGHT: Silver Dollar Amounts + Buckets -->
          <div>
            <div style="font-size:13px;font-weight:600;color:#374151;margin-bottom:4px;">Transferring Money – Silver Plan Dollar Amounts</div>
            <table class="ap-table" style="width:100%;border-collapse:collapse;font-size:13px;">
              <thead>
                <tr>
                  <th>Rollover Source</th>
                  <th style="width:40%;">Dollar Amount</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Silver Add'l 1</td>
                  <td><input id="silver1Amount" name="silver1Amount" type="text" placeholder="$100,000.00"></td>
                </tr>
                <tr>
                  <td>Silver Add'l 2</td>
                  <td><input id="silver2Amount" name="silver2Amount" type="text" placeholder="$150,000.00"></td>
                </tr>
                <tr>
                  <td>Silver Add'l 3</td>
                  <td><input id="silver3Amount" name="silver3Amount" type="text" placeholder="$50,000.00"></td>
                </tr>
                <tr>
                  <td>Silver Add'l 4</td>
                  <td><input id="silver4Amount" name="silver4Amount" type="text" placeholder="$25,000.00"></td>
                </tr>
              </tbody>
            </table>

            <div style="margin-top:10px;font-size:13px;">
              <div class="ap-field" style="margin-bottom:6px;">
                <label for="silverAYellow" style="font-weight:600;color:#374151;">A Total Yellow (Liquid)</label>
                <input id="silverAYellow" name="silverAYellow" type="text" placeholder="$316,000.00">
              </div>
              <div class="ap-field" style="margin-bottom:6px;">
                <label for="silverCRed" style="font-weight:600;color:#374151;">C Total Red (Invested)</label>
                <input id="silverCRed" name="silverCRed" type="text" placeholder="$125,000.00">
              </div>
              <div class="ap-field" style="margin-bottom:6px;">
                <label for="silverBGreen" style="font-weight:600;color:#374151;">B Total Green (Annuities)</label>
                <input id="silverBGreen" name="silverBGreen" type="text" placeholder="$325,000.00">
              </div>
              <div class="ap-field">
                <label for="silverTotalInvestable" style="font-weight:600;color:#374151;">Total Investable (auto)</label>
                <input id="silverTotalInvestable" name="silverTotalInvestable" type="text" placeholder="$766,000.00" readonly>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- GOLD PLAN -->
      <div class="ap-section" style="background:#ffffff;border-radius:10px;border:1px solid #e5e7eb;padding:14px 16px 12px;margin-bottom:18px;">
        <div class="ap-section-title" style="font-size:15px;font-weight:700;color:#b45309;border-bottom:1px solid #e5e7eb;padding-bottom:6px;margin-bottom:8px;">
          Gold Plan – Additional Income &amp; Reallocation
        </div>

        <div style="display:grid;grid-template-columns:1.2fr 0.8fr;gap:14px;align-items:flex-start;">
          <!-- LEFT: Gold Income -->
          <div>
            <div style="font-size:13px;font-weight:600;color:#374151;margin-bottom:4px;">Gold Plan Add'l Income (4 sources)</div>
            <table class="ap-table" style="width:100%;border-collapse:collapse;font-size:13px;">
              <thead>
                <tr>
                  <th>Description / Rollover Label</th>
                  <th style="width:18%;">Annual Income</th>
                  <th style="width:14%;">Start Age</th>
                  <th style="width:16%;">Owner (His/Her)</th>
                  <th>Notes</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><input name="gold1Desc" type="text" placeholder="Rollover 1"></td>
                  <td><input name="gold1Income" type="text" placeholder="$40,000"></td>
                  <td><input name="gold1StartAge" type="number" min="0" step="1" placeholder="67"></td>
                  <td><input name="gold1Owner" type="text" placeholder="His"></td>
                  <td><input name="gold1Notes" type="text"></td>
                </tr>
                <tr>
                  <td><input name="gold2Desc" type="text" placeholder="Rollover 2"></td>
                  <td><input name="gold2Income" type="text" placeholder="$25,000"></td>
                  <td><input name="gold2StartAge" type="number" min="0" step="1" placeholder="70"></td>
                  <td><input name="gold2Owner" type="text" placeholder="His"></td>
                  <td><input name="gold2Notes" type="text"></td>
                </tr>
                <tr>
                  <td><input name="gold3Desc" type="text" placeholder="Rollover 3"></td>
                  <td><input name="gold3Income" type="text" placeholder="$35,000"></td>
                  <td><input name="gold3StartAge" type="number" min="0" step="1" placeholder="67"></td>
                  <td><input name="gold3Owner" type="text" placeholder="His"></td>
                  <td><input name="gold3Notes" type="text"></td>
                </tr>
                <tr>
                  <td><input name="gold4Desc" type="text" placeholder="Rollover 4"></td>
                  <td><input name="gold4Income" type="text" placeholder="$4,000"></td>
                  <td><input name="gold4StartAge" type="number" min="0" step="1" placeholder="67"></td>
                  <td><input name="gold4Owner" type="text" placeholder="His"></td>
                  <td><input name="gold4Notes" type="text"></td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- RIGHT: Gold Dollar Amounts + Buckets -->
          <div>
            <div style="font-size:13px;font-weight:600;color:#374151;margin-bottom:4px;">Transferring Money – Gold Plan Dollar Amounts</div>
            <table class="ap-table" style="width:100%;border-collapse:collapse;font-size:13px;">
              <thead>
                <tr>
                  <th>Rollover Source</th>
                  <th style="width:40%;">Dollar Amount</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Gold Add'l 1</td>
                  <td><input id="gold1Amount" name="gold1Amount" type="text" placeholder="$400,000.00"></td>
                </tr>
                <tr>
                  <td>Gold Add'l 2</td>
                  <td><input id="gold2Amount" name="gold2Amount" type="text" placeholder="$250,000.00"></td>
                </tr>
                <tr>
                  <td>Gold Add'l 3</td>
                  <td><input id="gold3Amount" name="gold3Amount" type="text" placeholder="$220,000.00"></td>
                </tr>
                <tr>
                  <td>Gold Add'l 4</td>
                  <td><input id="gold4Amount" name="gold4Amount" type="text" placeholder="$125,000.00"></td>
                </tr>
              </tbody>
            </table>

            <div style="margin-top:10px;font-size:13px;">
              <div class="ap-field" style="margin-bottom:6px;">
                <label for="goldAYellow" style="font-weight:600;color:#374151;">A Total Yellow (Liquid)</label>
                <input id="goldAYellow" name="goldAYellow" type="text" placeholder="$316,000.00">
              </div>
              <div class="ap-field" style="margin-bottom:6px;">
                <label for="goldCRed" style="font-weight:600;color:#374151;">C Total Red (Invested)</label>
                <input id="goldCRed" name="goldCRed" type="text" placeholder="-$545,000.00">
              </div>
              <div class="ap-field" style="margin-bottom:6px;">
                <label for="goldBGreen" style="font-weight:600;color:#374151;">B Total Green (Annuities)</label>
                <input id="goldBGreen" name="goldBGreen" type="text" placeholder="$995,000.00">
              </div>
              <div class="ap-field">
                <label for="goldTotalInvestable" style="font-weight:600;color:#374151;">Total Investable (auto)</label>
                <input id="goldTotalInvestable" name="goldTotalInvestable" type="text" placeholder="$766,000.00" readonly>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- EXTERNAL TOOL -->
      <div style="font-size:12px;color:#4b5563;">
        External calculator for annuity income illustrations:
        <a href="https://www.delawarelife.com/static/html/tp-calculator.html" target="_blank" rel="noopener noreferrer">
          Delaware Life Income Calculator
        </a>
      </div>
    </div>
  </div>
</div>

<script>
  // ---------- Shared helpers ----------
  function apParseCurrency(val) {
    if (!val) return 0;
    if (typeof val !== 'string') val = String(val);
    val = val.replace(/[^0-9.\-]/g, '');
    if (!val) return 0;
    var num = parseFloat(val);
    return isNaN(num) ? 0 : num;
  }

  function apFormatCurrency(num) {
    return '$' + (num || 0).toLocaleString(undefined, {
      minimumFractionDigits: 0,
      maximumFractionDigits: 2
    });
  }

  function apGetInputValue(nameOrId) {
    var el = document.querySelector('[name="' + nameOrId + '"]') ||
             document.getElementById(nameOrId);
    return el ? el.value || '' : '';
  }

  function apSetInputValue(idOrName, val) {
    var byId = document.getElementById(idOrName);
    if (byId) {
      byId.value = val;
      return;
    }
    var byName = document.querySelector('[name="' + idOrName + '"]');
    if (byName) byName.value = val;
  }

  // ---------- Save / load Goals & Data to localStorage ----------
  function apSaveGoalsDataToStorage() {
    if (!window.localStorage) return;
    var form = document.getElementById('ap-goals-data-form');
    if (!form) return;
    var data = {};
    Array.prototype.forEach.call(form.elements, function(el) {
      if (!el.name) return;
      if (['button','submit','reset'].indexOf(el.type) !== -1) return;
      data[el.name] = el.value;
    });
    localStorage.setItem('apGoalsDataForm', JSON.stringify(data));
  }

  function apLoadGoalsDataFromStorage() {
    if (!window.localStorage) return;
    var raw = localStorage.getItem('apGoalsDataForm');
    if (!raw) return;
    var form = document.getElementById('ap-goals-data-form');
    if (!form) return;
    var data;
    try { data = JSON.parse(raw); } catch(e) { return; }
    Object.keys(data).forEach(function(name) {
      var el = form.elements[name];
      if (!el) return;
      el.value = data[name];
    });
  }

  // ---------- Data Form totals ----------
  function apUpdateDataFormTotals() {
    // Investments total
    var invTotal = 0;
    for (var j = 1; j <= 3; j++) {
      var rawInv = apGetInputValue('inv' + j + 'Balance');
      invTotal += apParseCurrency(rawInv);
    }
    var invTotalField = document.querySelector('[name="invTotalBalance"]');
    if (invTotalField) invTotalField.value = apFormatCurrency(invTotal);

    // Savings total
    var savTotal = 0;
    for (var i = 1; i <= 4; i++) {
      var rawSav = apGetInputValue('save' + i + 'Balance');
      savTotal += apParseCurrency(rawSav);
    }
    var savTotalField = document.querySelector('[name="saveTotalBalance"]');
    if (savTotalField) savTotalField.value = apFormatCurrency(savTotal);

    // Annuities total
    var annTotal = 0;
    for (var k = 1; k <= 2; k++) {
      var rawAnn = apGetInputValue('ann' + k + 'Balance');
      annTotal += apParseCurrency(rawAnn);
    }
    var annTotalField = document.querySelector('[name="annTotalBalance"]');
    if (annTotalField) annTotalField.value = apFormatCurrency(annTotal);

    // Income total
    var incTotal = 0;
    for (var r = 1; r <= 3; r++) {
      var rawInc = apGetInputValue('inc' + r + 'Amount');
      incTotal += apParseCurrency(rawInc);
    }
    var incTotalField = document.querySelector('[name="incTotalAmount"]');
    if (incTotalField) incTotalField.value = apFormatCurrency(incTotal);
  }

  // ---------- Asset Summary updater ----------
  function apUpdateAssetSummary() {
    apUpdateDataFormTotals();

    var now = new Date();
    var dateSpan = document.getElementById('ap-asset-summary-date');
    if (dateSpan) {
      var dateStr = now.toLocaleDateString() + ' ' +
        now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
      dateSpan.textContent = dateStr;
    }

    // Name & address
    var nameAddressDiv = document.getElementById('ap-asset-summary-name-address');
    if (nameAddressDiv) {
      var clientName = apGetInputValue('clientName');
      var spouseName = apGetInputValue('spouseName');
      var homeAddress = apGetInputValue('homeAddress');
      var homeCity = apGetInputValue('homeCity');
      var homeState = apGetInputValue('homeState');
      var homeZip = apGetInputValue('homeZip');

      var fullName = (clientName || '') +
        (spouseName ? (clientName ? ' and ' : '') + spouseName : '');
      var addressLine = [homeAddress, homeCity, homeState, homeZip]
        .filter(Boolean)
        .join(' ');

      nameAddressDiv.innerHTML =
        (fullName ? '<div>' + fullName + '</div>' : '') +
        (addressLine ? '<div>' + addressLine + '</div>' : '');
    }

    // CASH
    var cashRowsBody = document.getElementById('ap-cash-rows');
    var totalCash = 0;
    if (cashRowsBody) {
      cashRowsBody.innerHTML = '';
      var maxCash = 4;
      var cashRowCount = 0;

      for (var i = 1; i <= maxCash; i++) {
        var desc = apGetInputValue('save' + i + 'Desc');
        var owner = apGetInputValue('save' + i + 'Owner');
        var balStr = apGetInputValue('save' + i + 'Balance');
        var bal = apParseCurrency(balStr);
        if (!desc && !owner && !balStr) continue;

        cashRowCount++;
        totalCash += bal;

        var tr = document.createElement('tr');
        tr.innerHTML =
          '<td>' + (owner || '') + '</td>' +
          '<td>' + (desc || '') + '</td>' +
          '<td class="ap-num">' + apFormatCurrency(bal) + '</td>';
        cashRowsBody.appendChild(tr);
      }

      if (cashRowCount === 0) {
        var totalFieldCash = apParseCurrency(apGetInputValue('saveTotalBalance'));
        if (totalFieldCash) {
          totalCash = totalFieldCash;
          var trAgg = document.createElement('tr');
          trAgg.innerHTML =
            '<td></td>' +
            '<td>Aggregate cash (from total)</td>' +
            '<td class="ap-num">' + apFormatCurrency(totalCash) + '</td>';
          cashRowsBody.appendChild(trAgg);
        }
      } else {
        apSetInputValue('saveTotalBalance', apFormatCurrency(totalCash));
      }

      var elTC = document.getElementById('ap-total-cash');
      if (elTC) elTC.textContent = apFormatCurrency(totalCash);
    }

    // INVESTMENTS
    var invRowsBody = document.getElementById('ap-investment-rows');
    var totalInv = 0;
    if (invRowsBody) {
      invRowsBody.innerHTML = '';
      var maxInv = 3;
      var invRowCount = 0;

      for (var j = 1; j <= maxInv; j++) {
        var name = apGetInputValue('inv' + j + 'Name');
        var ownerInv = apGetInputValue('inv' + j + 'Owner');
        var typeInv = apGetInputValue('inv' + j + 'Type');
        var balInvStr = apGetInputValue('inv' + j + 'Balance');
        var balInv = apParseCurrency(balInvStr);
        if (!name && !ownerInv && !balInvStr) continue;

        invRowCount++;
        totalInv += balInv;

        var tr2 = document.createElement('tr');
        tr2.innerHTML =
          '<td>' + (ownerInv || '') + '</td>' +
          '<td>' + (name || '') + '</td>' +
          '<td>' + (typeInv || '') + '</td>' +
          '<td class="ap-num">' + apFormatCurrency(balInv) + '</td>';
        invRowsBody.appendChild(tr2);
      }

      if (invRowCount === 0) {
        var totalFieldInv = apParseCurrency(apGetInputValue('invTotalBalance'));
        if (totalFieldInv) {
          totalInv = totalFieldInv;
          var trAggInv = document.createElement('tr');
          trAggInv.innerHTML =
            '<td></td>' +
            '<td>Aggregate investments (from total)</td>' +
            '<td></td>' +
            '<td class="ap-num">' + apFormatCurrency(totalInv) + '</td>';
          invRowsBody.appendChild(trAggInv);
        }
      } else {
        apSetInputValue('invTotalBalance', apFormatCurrency(totalInv));
      }

      var elTI = document.getElementById('ap-total-investments');
      if (elTI) elTI.textContent = apFormatCurrency(totalInv);
    }

    // PROPERTY & MORTGAGES
    var primaryVal = apParseCurrency(apGetInputValue('primaryValue'));
    var primaryMort = apParseCurrency(apGetInputValue('primaryMortgage'));
    var secondaryVal = apParseCurrency(apGetInputValue('secondaryValue'));
    var secondaryMort = apParseCurrency(apGetInputValue('secondaryMortgage'));

    var totalRealEstate = primaryVal + secondaryVal;
    var totalMortgage = primaryMort + secondaryMort;

    if (document.getElementById('ap-primary-value')) {
      document.getElementById('ap-primary-value').textContent = apFormatCurrency(primaryVal);
    }
    if (document.getElementById('ap-primary-mortgage')) {
      document.getElementById('ap-primary-mortgage').textContent = apFormatCurrency(primaryMort);
    }
    if (document.getElementById('ap-secondary-value')) {
      document.getElementById('ap-secondary-value').textContent = apFormatCurrency(secondaryVal);
    }
    if (document.getElementById('ap-secondary-mortgage')) {
      document.getElementById('ap-secondary-mortgage').textContent = apFormatCurrency(secondaryMort);
    }
    if (document.getElementById('ap-total-real-estate')) {
      document.getElementById('ap-total-real-estate').textContent = apFormatCurrency(totalRealEstate);
    }
    if (document.getElementById('ap-total-mortgage')) {
      document.getElementById('ap-total-mortgage').textContent = apFormatCurrency(totalMortgage);
    }

    // ANNUITIES
    var annRowsBody = document.getElementById('ap-annuity-rows');
    var totalAnn = 0;
    if (annRowsBody) {
      annRowsBody.innerHTML = '';
      var maxAnn = 2;
      var annRowCount = 0;

      for (var k = 1; k <= maxAnn; k++) {
        var annName = apGetInputValue('ann' + k + 'Name');
        var annOwner = apGetInputValue('ann' + k + 'Owner');
        var annType = apGetInputValue('ann' + k + 'Type');
        var annBalStr = apGetInputValue('ann' + k + 'Balance');
        var annBal = apParseCurrency(annBalStr);
        if (!annName && !annOwner && !annBalStr) continue;

        annRowCount++;
        totalAnn += annBal;
        var tr3 = document.createElement('tr');
        tr3.innerHTML =
          '<td>' + (annOwner || '') + '</td>' +
          '<td>' + (annName || '') + '</td>' +
          '<td>' + (annType || '') + '</td>' +
          '<td class="ap-num">' + apFormatCurrency(annBal) + '</td>';
        annRowsBody.appendChild(tr3);
      }

      if (annRowCount === 0) {
        var totalFieldAnn = apParseCurrency(apGetInputValue('annTotalBalance'));
        if (totalFieldAnn) {
          totalAnn = totalFieldAnn;
          var trAggAnn = document.createElement('tr');
          trAggAnn.innerHTML =
            '<td></td>' +
            '<td>Aggregate annuities (from total)</td>' +
            '<td></td>' +
            '<td class="ap-num">' + apFormatCurrency(totalAnn) + '</td>';
          annRowsBody.appendChild(trAggAnn);
        }
      } else {
        apSetInputValue('annTotalBalance', apFormatCurrency(totalAnn));
      }

      var elTA = document.getElementById('ap-total-annuities');
      if (elTA) elTA.textContent = apFormatCurrency(totalAnn);
    }

    // ROLL-UP TOTALS
    var totalAssets = totalCash + totalInv + totalRealEstate + totalAnn;
    var totalLiab = totalMortgage;
    var netWorth = totalAssets - totalLiab;

    if (document.getElementById('ap-total-assets')) {
      document.getElementById('ap-total-assets').textContent = apFormatCurrency(totalAssets);
    }
    if (document.getElementById('ap-total-liabilities')) {
      document.getElementById('ap-total-liabilities').textContent = apFormatCurrency(totalLiab);
    }
    if (document.getElementById('ap-net-worth')) {
      document.getElementById('ap-net-worth').textContent = apFormatCurrency(netWorth);
    }
  }

  // ---------- Inputs Page auto-calcs (UPDATED with Silver/Gold reallocations) ----------
  function apUpdateInputsDerived() {
    // 1) Make sure Asset Summary and No-Plan buckets are up to date
    apUpdateAssetSummary();

    // 2) Auto-fill today's date on Inputs tab (only if blank)
    var todayEl = document.getElementById('inputsTodayDate');
    if (todayEl && !todayEl.value) {
      todayEl.value = new Date().toISOString().slice(0, 10);
    }

    // 3) Default projection length to 30 years (if blank or 0)
    var projEl = document.getElementById('projLength');
    if (projEl && (!projEl.value || projEl.value === '0')) {
      projEl.value = 30;
    }

    // 4) Pull His/Her current age from Goals & Data (clientAge, spouseAge)
    var goalsAgeHis = apGetInputValue('clientAge');
    var goalsAgeHer = apGetInputValue('spouseAge');
    var inputsAgeHisEl = document.getElementById('ageHis');
    var inputsAgeHerEl = document.getElementById('ageHer');
    if (inputsAgeHisEl && !inputsAgeHisEl.value && goalsAgeHis) {
      inputsAgeHisEl.value = goalsAgeHis;
    }
    if (inputsAgeHerEl && !inputsAgeHerEl.value && goalsAgeHer) {
      inputsAgeHerEl.value = goalsAgeHer;
    }

    // 5) Living expenses on Inputs = Approx. Annual Living Expenses from Goals page
    var goalsExpenses = apGetInputValue('annualExpenses');
    var inputsExpensesEl = document.getElementById('livingExpensesAnnual');
    if (inputsExpensesEl && !inputsExpensesEl.value && goalsExpenses) {
      inputsExpensesEl.value = goalsExpenses;
    }

    // 6) Current A/B/C buckets come from ASSET SUMMARY totals
    var yellowTotalText = (document.getElementById('ap-total-cash') || {}).textContent || '';
    var redTotalText    = (document.getElementById('ap-total-investments') || {}).textContent || '';
    var greenTotalText  = (document.getElementById('ap-total-annuities') || {}).textContent || '';

    apSetInputValue('currentAYellow', yellowTotalText);
    apSetInputValue('currentCRed',    redTotalText);
    apSetInputValue('currentBGreen',  greenTotalText);

    var aCur = apParseCurrency(yellowTotalText);
    var cCur = apParseCurrency(redTotalText);
    var bCur = apParseCurrency(greenTotalText);

    var totalCur = aCur + cCur + bCur;
    var curTotEl = document.getElementById('currentTotalInvestable');
    if (curTotEl) {
      curTotEl.value = apFormatCurrency(totalCur);
    }

    // 7) Silver Plan – reallocate from No-Plan red to green
    var silverRoll = 0;
    for (var s = 1; s <= 4; s++) {
      silverRoll += apParseCurrency(apGetInputValue('silver' + s + 'Amount'));
    }
    var silverA = aCur;                 // Yellow unchanged
    var silverC = cCur - silverRoll;    // Red reduced by rollover
    var silverB = bCur + silverRoll;    // Green increased by rollover

    apSetInputValue('silverAYellow', apFormatCurrency(silverA));
    apSetInputValue('silverCRed',    apFormatCurrency(silverC));
    apSetInputValue('silverBGreen',  apFormatCurrency(silverB));

    var silTotEl = document.getElementById('silverTotalInvestable');
    if (silTotEl) {
      silTotEl.value = apFormatCurrency(silverA + silverC + silverB);
    }

    // 8) Gold Plan – same logic, built off No-Plan A/B/C
    var goldRoll = 0;
    for (var g = 1; g <= 4; g++) {
      goldRoll += apParseCurrency(apGetInputValue('gold' + g + 'Amount'));
    }
    var goldA = aCur;
    var goldC = cCur - goldRoll;
    var goldB = bCur + goldRoll;

    apSetInputValue('goldAYellow', apFormatCurrency(goldA));
    apSetInputValue('goldCRed',    apFormatCurrency(goldC));
    apSetInputValue('goldBGreen',  apFormatCurrency(goldB));

    var golTotEl = document.getElementById('goldTotalInvestable');
    if (golTotEl) {
      golTotEl.value = apFormatCurrency(goldA + goldC + goldB);
    }

    // 9) Death-year indexes (approx)
    var projLen = parseInt(apGetInputValue('projLength') || '0', 10);
    var ageHis = parseInt(apGetInputValue('ageHis') || '0', 10);
    var ageHer = parseInt(apGetInputValue('ageHer') || '0', 10);
    var deathHis = parseInt(apGetInputValue('deathAgeHis') || '0', 10);
    var deathHer = parseInt(apGetInputValue('deathAgeHer') || '0', 10);

    if (projLen > 0 && ageHis > 0 && deathHis > ageHis) {
      var idxHis = Math.max(1, Math.min(projLen, deathHis - ageHis));
      apSetInputValue('deathIndexHis', idxHis);
    }
    if (projLen > 0 && ageHer > 0 && deathHer > ageHer) {
      var idxHer = Math.max(1, Math.min(projLen, deathHer - ageHer));
      apSetInputValue('deathIndexHer', idxHer);
    }
  }

  // ---------- Tabs + Save wiring ----------
  (function () {
    function showPanel(name) {
      var panels = ['goals', 'assets', 'inputs'];
      panels.forEach(function (p) {
        var pane = document.getElementById('ap-panel-' + p);
        if (pane) pane.style.display = (p === name ? 'block' : 'none');
      });

      var buttons = document.querySelectorAll('#ap-ifl-app .ap-ifl-tab-btn');
      buttons.forEach(function (btn) {
        btn.classList.toggle('ap-ifl-tab-active', btn.getAttribute('data-panel') === name);
      });

      if (name === 'assets') {
        apUpdateAssetSummary();
      }
      if (name === 'inputs') {
        apUpdateInputsDerived();
      }
    }

    document.addEventListener('DOMContentLoaded', function () {
      // Load previously saved data if present
      apLoadGoalsDataFromStorage();

      // Compute totals from loaded data
      apUpdateDataFormTotals();

      // Wire tabs
      var buttons = document.querySelectorAll('#ap-ifl-app .ap-ifl-tab-btn');
      buttons.forEach(function (btn) {
        btn.addEventListener('click', function () {
          showPanel(btn.getAttribute('data-panel'));
        });
      });

      // Wire Save button
      var saveBtn = document.getElementById('ap-save-data-btn');
      if (saveBtn) {
        saveBtn.addEventListener('click', function () {
          apUpdateDataFormTotals();
          apSaveGoalsDataToStorage();
          apUpdateAssetSummary();
          showPanel('assets');
          alert('Client data saved in this browser and Asset Summary updated.');
        });
      }

      // Live update Data Form totals whenever anything changes on the form
      var form = document.getElementById('ap-goals-data-form');
      if (form) {
        form.addEventListener('input', function () {
          apUpdateDataFormTotals();
        });
      }

      // Live update Inputs Silver/Gold allocations when those dollar amounts change
      var inputsRoot = document.getElementById('ap-plan-inputs');
      if (inputsRoot) {
        inputsRoot.addEventListener('input', function (e) {
          var id = e.target.id || '';
          if (id.indexOf('silver') === 0 ||
              id.indexOf('gold') === 0 ||
              id === 'projLength' ||
              id === 'ageHis' ||
              id === 'ageHer' ||
              id === 'deathAgeHis' ||
              id === 'deathAgeHer') {
            apUpdateInputsDerived();
          }
        });
      }

      // Default to Goals & Data
      showPanel('goals');

      // Expose for console if needed
      window.apShowIFLPanel = showPanel;
    });
  })();
</script>
</body>
</html>
